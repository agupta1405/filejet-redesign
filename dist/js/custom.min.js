function fileUploadInput(){document.querySelectorAll(".drop-zone__input").forEach(t=>{const n=t.closest(".drop-zone");n.addEventListener("click",e=>{t.click()}),t.addEventListener("change",e=>{t.files.length&&updateThumbnail(n,t.files[0])}),n.addEventListener("dragover",e=>{e.preventDefault(),n.classList.add("drop-zone--over")}),["dragleave","dragend"].forEach(e=>{n.addEventListener(e,e=>{n.classList.remove("drop-zone--over")})}),n.addEventListener("drop",e=>{e.preventDefault(),e.dataTransfer.files.length&&(t.files=e.dataTransfer.files,updateThumbnail(n,e.dataTransfer.files[0])),n.classList.remove("drop-zone--over")}),$(document).on("click",".go-back-parent",function(){$(".folder-level").css("display","none"),$("#parent-folder").css("display","block")}),$(document).on("click",".go-back-child",function(){$(".folder-level").css("display","none"),$("#child-folder").css("display","block")})})}function updateThumbnail(e,t){let n=e.querySelector(".drop-zone__thumb");if(e.querySelector(".drop-zone__prompt")&&e.querySelector(".drop-zone__prompt").remove(),n||((n=document.createElement("div")).classList.add("drop-zone__thumb"),e.appendChild(n),$("#fileUpload").modal("show")),n.dataset.label=t.name,t.type.startsWith("image/")){const a=new FileReader;a.readAsDataURL(t),a.onload=()=>{n.style.backgroundImage=`url('${a.result}')`}}else n.style.backgroundImage=null}var x,i,j,l,ll,selElmnt,a,b,c;for($(function(){$("#compliance a").on("click",function(e){e.preventDefault(),$(this).tab("show")}),$(".dashboard-data-table").DataTable({lengthChange:!1,pagingType:"simple_numbers",processing:!0,language:{processing:'<div  role="status"> </div>'},columns:[null,null,null,null,null,null]}),$("#payment-method-table").DataTable({lengthChange:!1,pagingType:"simple_numbers",processing:!0,language:{processing:'<div  role="status"> </div>'},order:[],columns:[null,null,null,null,null]}),$(".data-table-listing").DataTable({lengthChange:!1,pagingType:"simple_numbers",processing:!0,language:{processing:'<div  role="status"> </div>'},scrollX:!0,scrollY:"52vh",scrollCollapse:!0,drawCallback:function(){$(".dataTables_scrollBody thead tr").css({display:"none"})}}),$(document).on("click",".view-change > a",function(){$(".view-change > a").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");$(this).parents(".entity-card-content").find(".tab-content-wrapper").css("display","none"),$("#"+e).css("display","block"),$(this).parents(".entity-card-content").find(".tab-listing").removeClass("active"),$("."+e).addClass("active")}),$(document).on("click",".view-change-entry > a",function(){$(".view-change-entry > a").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");$(".tab-content-wrapper").css("display","none"),$("#"+e).css("display","block")}),$(document).on("click",".showAccordian",function(){$(this).parents(".form-check").next(".accordion").toggleClass("hide")}),$("#datepicker").datepicker({dateFormat:"mm-dd-yy"}),$("body").tooltip({selector:"[data-toggle=tooltip]"}),$(".btn-tab button").on("click",function(){$(".btn-tab button").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");$(".btn-tab-content").css("display","none"),$("#"+e).css("display","block")}),$(".entity-card").on("click",function(){$(".entity-card").removeClass("active"),$(this).addClass("active");var e=$(this).attr("data-id");$(".entity-card-content").removeClass("active"),$("#"+e).addClass("active")}),$(".open-folder").on("click",function(){var e=$(this).attr("data-id");$(".folder-level").css("display","none"),$("#"+e).css("display","block")}),$(".warning-popup").on("click",function(){warningPopup()}),$('input[name="daterange"]').daterangepicker({ranges:{Today:[moment(),moment()],"Last 7 Days":[moment().subtract(6,"days"),moment()],"Last 30 Days":[moment().subtract(29,"days"),moment()],"Last Month":[moment().subtract(1,"month").startOf("month"),moment().subtract(1,"month").endOf("month")],"3 Months":[moment().subtract(2,"month").startOf("month"),moment().endOf("month")],"6 Months":[moment().subtract(5,"month").startOf("month"),moment().endOf("month")],"1 Year":[moment().subtract(11,"month").startOf("month"),moment().endOf("month")]},opens:"center",linkedCalendars:!1,alwaysShowCalendars:!0,cancelClass:"btn-secondary",locale:{format:"MMMM D, YYYY"},startDate:moment().subtract(11,"month").startOf("month"),endDate:moment().subtract(1,"month")})}),fileUploadInput(),l=(x=document.getElementsByClassName("custom-select")).length,i=0;i<l;i++){for(ll=(selElmnt=x[i].getElementsByTagName("select")[0]).length,(a=document.createElement("DIV")).setAttribute("class","select-selected"),a.innerHTML=selElmnt.options[selElmnt.selectedIndex].innerHTML,x[i].appendChild(a),(b=document.createElement("DIV")).setAttribute("class","select-items select-hide"),j=1;j<ll;j++)(c=document.createElement("DIV")).innerHTML=selElmnt.options[j].innerHTML,c.addEventListener("click",function(e){for(var t,n,a,s=this.parentNode.parentNode.getElementsByTagName("select")[0],l=s.length,o=this.parentNode.previousSibling,i=0;i<l;i++)if(s.options[i].innerHTML==this.innerHTML){for(s.selectedIndex=i,o.innerHTML=this.innerHTML,a=(t=this.parentNode.getElementsByClassName("same-as-selected")).length,n=0;n<a;n++)t[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}o.click()}),b.appendChild(c);x[i].appendChild(b),a.addEventListener("click",function(e){e.stopPropagation(),closeAllSelect(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}function closeAllSelect(e){for(var t=[],n=document.getElementsByClassName("select-items"),a=document.getElementsByClassName("select-selected"),s=n.length,l=a.length,o=0;o<l;o++)e==a[o]?t.push(o):a[o].classList.remove("select-arrow-active");for(o=0;o<s;o++)t.indexOf(o)&&n[o].classList.add("select-hide")}function showCreditCardDetails(){document.querySelectorAll("#creditCardDetails").forEach(function(e){e.style.display="flex"}),document.querySelectorAll("#achInfo").forEach(function(e){e.style.display="none"}),document.querySelectorAll("#defaultPaymentDetails").forEach(function(e){e.style.display="none"})}function showAchInfo(){document.querySelectorAll("#achInfo").forEach(function(e){e.style.display="flex"}),document.querySelectorAll("#creditCardDetails").forEach(function(e){e.style.display="none"}),document.querySelectorAll("#defaultPaymentDetails").forEach(function(e){e.style.display="none"})}function editDocumentName(){$(".save-name").hide(),$(".edit-name").click(function(){$(this).hide(),$(this).parents(".edit-name-parent").find(".item-name").attr("contentEditable",!0).css("border","1px solid #ccc").focus(),$(this).parents(".edit-name-parent").find(".save-name").show()}),$(".save-name").click(function(){$(this).hide(),$(this).parents(".edit-name-parent").find(".item-name").removeAttr("contentEditable",!0).css("border","0px solid #ccc"),$(this).parents(".edit-name-parent").find(".edit-name").show()}),$(".save-document-name").hide(),$(".edit-document-name").click(function(){var e=$(this).closest("tr"),t=e.find(".doc-name");t.attr("contentEditable",!0),t.focus(),$(this).hide(),e.find(".save-document-name").show()}),$(".save-document-name").click(function(){var e=$(this).closest("tr");e.find(".doc-name").removeAttr("contentEditable"),$(this).hide(),e.find(".edit-document-name").show()})}function toggleSection(e){$(e).parents(".step-section").addClass("collapse"),$(e).parents(".step-section").next(".step-section").removeClass("collapse")}function additionalServicesOptionTab(e){"options"===new URLSearchParams(window.location.search).get("tab")&&toggleSection(e)}function warningPopup(){$.alert({title:"Warning",content:"Unable to complete your request. Try Later",theme:"bootstrap",columnClass:"col-6 col-md-4",buttons:{Ok:{text:"Ok",btnClass:"w-100 py-2 m-0 text-white",keys:["enter","shift"]}}})}function reintializeDataTable(){$(".data-table-listing").DataTable({lengthChange:!1,pagingType:"simple_numbers",processing:!0,language:{processing:'<div class="" role="status"> </div>'},retrieve:!0})}document.addEventListener("click",closeAllSelect),$(".filter-state-label").hover(function(){var e=$(this);title=$(this).attr("title"),e.data("defaultText",e.text()),e.text(title)},function(){var e=$(this);e.text(e.data("defaultText"))}),editDocumentName();